<!DOCTYPE html>
<html lang="简体中文">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux硬盘分区，挂载，格式化，加到开机启动项 | 公众平台技术文档</title>
    <meta name="description" content="再小的个体，也有自己的品牌">
    <link rel="icon" href="/documents/favicon.ico">
    
    <link rel="preload" href="/documents/assets/css/0.styles.9a8dad7c.css" as="style"><link rel="preload" href="/documents/assets/js/app.cbb49199.js" as="script"><link rel="preload" href="/documents/assets/js/12.67f99fdc.js" as="script"><link rel="prefetch" href="/documents/assets/js/10.011a0e75.js"><link rel="prefetch" href="/documents/assets/js/11.200ca197.js"><link rel="prefetch" href="/documents/assets/js/13.2808213b.js"><link rel="prefetch" href="/documents/assets/js/14.4fd1e650.js"><link rel="prefetch" href="/documents/assets/js/15.7997dc4a.js"><link rel="prefetch" href="/documents/assets/js/16.49201318.js"><link rel="prefetch" href="/documents/assets/js/17.c38d828a.js"><link rel="prefetch" href="/documents/assets/js/18.6650bf53.js"><link rel="prefetch" href="/documents/assets/js/19.ee7020d2.js"><link rel="prefetch" href="/documents/assets/js/2.bca23384.js"><link rel="prefetch" href="/documents/assets/js/20.067b5ae4.js"><link rel="prefetch" href="/documents/assets/js/21.468954f2.js"><link rel="prefetch" href="/documents/assets/js/3.42e299bc.js"><link rel="prefetch" href="/documents/assets/js/4.893f8f8c.js"><link rel="prefetch" href="/documents/assets/js/5.0185a08a.js"><link rel="prefetch" href="/documents/assets/js/6.341c7dfb.js"><link rel="prefetch" href="/documents/assets/js/7.98544a2e.js"><link rel="prefetch" href="/documents/assets/js/8.3daa293b.js"><link rel="prefetch" href="/documents/assets/js/9.3493f8c2.js">
    <link rel="stylesheet" href="/documents/assets/css/0.styles.9a8dad7c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documents/" class="home-link router-link-active"><!----> <span class="site-name">公众平台技术文档</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/documents/" class="nav-link">主页</a></div><div class="nav-item"><a href="/documents/frontEnd/" class="nav-link">前端规范</a></div><div class="nav-item"><a href="/documents/development/" class="nav-link">开发环境</a></div><div class="nav-item"><a href="/documents/notes/" class="nav-link router-link-active">学习文档</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/notes/backEnd/CentOS如何挂载磁盘.html" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/documents/en/" class="nav-link">English</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/documents/" class="nav-link">主页</a></div><div class="nav-item"><a href="/documents/frontEnd/" class="nav-link">前端规范</a></div><div class="nav-item"><a href="/documents/development/" class="nav-link">开发环境</a></div><div class="nav-item"><a href="/documents/notes/" class="nav-link router-link-active">学习文档</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/notes/backEnd/CentOS如何挂载磁盘.html" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/documents/en/" class="nav-link">English</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>后端</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/documents/notes/backEnd/nginx.html" class="sidebar-link">nginx入门</a></li><li><a href="/documents/notes/backEnd/CentOS如何挂载磁盘.html" class="active sidebar-link">Linux硬盘分区，挂载，格式化，加到开机启动项</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="linux硬盘分区，挂载，格式化，加到开机启动项"><a href="#linux硬盘分区，挂载，格式化，加到开机启动项" aria-hidden="true" class="header-anchor">#</a> Linux硬盘分区，挂载，格式化，加到开机启动项</h1> <p>0、创建<strong>挂载</strong>目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> -p /www
</code></pre></div><p>1、确认是否有没有分区的磁盘,如下图，没有分区的磁盘是 /dev/xvdb ,在您的服务器中可能是 /dev/vdb 请注意按实际名称修改</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">fdisk</span> -l
</code></pre></div><p><img src="https://wx1.sinaimg.cn/large/99a97bd9ly1fqrcphwawyj20gh0hwt9p.jpg" alt></p> <p>2、为磁盘分区，若已分区的，请跳过！</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">fdisk</span> /dev/xvdb
</code></pre></div><p><img src="https://wx1.sinaimg.cn/large/99a97bd9ly1fqrcpk7vu2j20hi00iq2p.jpg" alt></p> <p>3、输入n开始创建分区</p> <p><img src="https://wx3.sinaimg.cn/large/99a97bd9ly1fqrcpek1ssj20he039t8n.jpg" alt="1476467888753.png"></p> <p>4、输入p创建主分区</p> <p><img src="https://wx4.sinaimg.cn/large/99a97bd9ly1fqrcpoc1nmj20ht02ht8j.jpg" alt="14764678911902.png"></p> <p>5、选择分区号，这里输入1</p> <p><img src="https://wx2.sinaimg.cn/large/99a97bd9ly1fqrcpr6puyj20hs00g741.jpg" alt="14764678974383.png"></p> <p>6、输入分区开始位置，直接回车</p> <p><img src="https://wx4.sinaimg.cn/large/99a97bd9ly1fqrcq2agptj20hs00ijr5.jpg" alt="14764679066906.png"></p> <p>7、输入分区结束位置，直接回车</p> <p><img src="https://wx4.sinaimg.cn/large/99a97bd9ly1fqrcq4sz1sj20hu00z3yb.jpg" alt="14764679101188.png"></p> <p>8、输入wq 保存退出</p> <p><img src="https://wx4.sinaimg.cn/large/99a97bd9ly1fqrcqaauwwj20hp00pdfl.jpg" alt="14764679123835.png"></p> <p>9、检查是否分区成功</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">fdisk</span> -l
</code></pre></div><p><img src="https://wx1.sinaimg.cn/large/99a97bd9ly1fqrcqfjbfkj20gb0hfgmm.jpg" alt="14764679159426.png"></p> <p>10、格式化分区，这里请输入你看到的磁盘加分区号，如下图，已格式化过的，请跳过</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mkfs.ext4 /dev/xvdb1
<span class="token comment"># (linux老的磁盘分区用的是 ext2 和 ext3  ，现在最新的是 ext4)</span>
</code></pre></div><p><img src="https://wx4.sinaimg.cn/large/99a97bd9ly1fqrcqjvszxj20hg00k0si.jpg" alt="14764679185233.png"></p> <p><img src="https://wx3.sinaimg.cn/large/99a97bd9ly1fqrcqv0jsqj20hk0apaak.jpg" alt="14764679237879.png"></p> <p>11、将分区挂载信息添加到开机启动挂载</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">echo</span> <span class="token string">&quot;/dev/xvdb1 /www ext4 defaults 0 0&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/fstab

<span class="token comment"># 也可以直接修改/etc/fstab文件，在最后加一段</span>
<span class="token comment"># /dev/xvdb1 /www ext4 defaults 0 0</span>
</code></pre></div><p><img src="https://wx2.sinaimg.cn/large/99a97bd9ly1fqrcqy2sq4j20kq016a9x.jpg" alt="14764679262526.png"></p> <blockquote><p>格式说明：</p> <p>第1列是需要挂载的文件系统或存储设备，/dev/sdb1代表哪个分区</p> <p>第2列是挂载点</p> <p>第3列指定文件系统或分区的类型，ext4是该分区的格式</p> <p>第4列为挂载选项，详细参考manmount. ，defaults是挂载时所要设定的参数(只读，读写，启用quota等)，输入defaults包括的参数有(rw、dev、exec、auto、nouser、async) ，</p> <p>第5列为dump选项，设置是否让备份程序dump备份文件系统，0为忽略，1为备份。</p> <p>第6列为fsck选项，告诉fsck程序以什么顺序检查文件系统，（2是开机时检查的顺序），是boot系统文件就为1，其他文件系统都为2，如不要检查就为0</p></blockquote> <p>12、重新挂载所有分区</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mount</span> -a
</code></pre></div><p><img src="https://wx4.sinaimg.cn/large/99a97bd9ly1fqrcr2pjf9j20mg00nmwx.jpg" alt="14764679301321.png"></p> <p>13、检查是否挂载成功</p> <div class="language-she extra-class"><pre class="language-text"><code>df
</code></pre></div><p><img src="https://wx2.sinaimg.cn/large/99a97bd9ly1fqrcr6q5ruj20oh03nglo.jpg" alt="14764679337124.png"></p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/documents/assets/js/app.cbb49199.js" defer></script><script src="/documents/assets/js/12.67f99fdc.js" defer></script>
  </body>
</html>
