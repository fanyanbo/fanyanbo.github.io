<!DOCTYPE html>
<html lang="简体中文">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript规范 | 公众平台技术文档</title>
    <meta name="description" content="再小的个体，也有自己的品牌">
    <link rel="icon" href="/documents/favicon.ico">
    
    <link rel="preload" href="/documents/assets/css/0.styles.9a8dad7c.css" as="style"><link rel="preload" href="/documents/assets/js/app.cbb49199.js" as="script"><link rel="preload" href="/documents/assets/js/10.011a0e75.js" as="script"><link rel="prefetch" href="/documents/assets/js/11.200ca197.js"><link rel="prefetch" href="/documents/assets/js/12.67f99fdc.js"><link rel="prefetch" href="/documents/assets/js/13.2808213b.js"><link rel="prefetch" href="/documents/assets/js/14.4fd1e650.js"><link rel="prefetch" href="/documents/assets/js/15.7997dc4a.js"><link rel="prefetch" href="/documents/assets/js/16.49201318.js"><link rel="prefetch" href="/documents/assets/js/17.c38d828a.js"><link rel="prefetch" href="/documents/assets/js/18.6650bf53.js"><link rel="prefetch" href="/documents/assets/js/19.ee7020d2.js"><link rel="prefetch" href="/documents/assets/js/2.bca23384.js"><link rel="prefetch" href="/documents/assets/js/20.067b5ae4.js"><link rel="prefetch" href="/documents/assets/js/21.468954f2.js"><link rel="prefetch" href="/documents/assets/js/3.42e299bc.js"><link rel="prefetch" href="/documents/assets/js/4.893f8f8c.js"><link rel="prefetch" href="/documents/assets/js/5.0185a08a.js"><link rel="prefetch" href="/documents/assets/js/6.341c7dfb.js"><link rel="prefetch" href="/documents/assets/js/7.98544a2e.js"><link rel="prefetch" href="/documents/assets/js/8.3daa293b.js"><link rel="prefetch" href="/documents/assets/js/9.3493f8c2.js">
    <link rel="stylesheet" href="/documents/assets/css/0.styles.9a8dad7c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documents/" class="home-link router-link-active"><!----> <span class="site-name">公众平台技术文档</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/documents/" class="nav-link">主页</a></div><div class="nav-item"><a href="/documents/frontEnd/" class="nav-link router-link-active">前端规范</a></div><div class="nav-item"><a href="/documents/development/" class="nav-link">开发环境</a></div><div class="nav-item"><a href="/documents/notes/" class="nav-link">学习文档</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/frontEnd/js-standard.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/documents/en/" class="nav-link">English</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/documents/" class="nav-link">主页</a></div><div class="nav-item"><a href="/documents/frontEnd/" class="nav-link router-link-active">前端规范</a></div><div class="nav-item"><a href="/documents/development/" class="nav-link">开发环境</a></div><div class="nav-item"><a href="/documents/notes/" class="nav-link">学习文档</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/frontEnd/js-standard.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/documents/en/" class="nav-link">English</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>前端开发规范</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/documents/frontEnd/" class="sidebar-link">一般规范 🎉</a></li><li><a href="/documents/frontEnd/html-standard.html" class="sidebar-link">HTML规范</a></li><li><a href="/documents/frontEnd/css-standard.html" class="sidebar-link">CSS规范</a></li><li><a href="/documents/frontEnd/js-standard.html" class="active sidebar-link">JavaScript规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/frontEnd/js-standard.html#变量声明" class="sidebar-link">变量声明</a></li><li class="sidebar-sub-header"><a href="/documents/frontEnd/js-standard.html#全局命名空间污染与-iife" class="sidebar-link">全局命名空间污染与 IIFE</a></li><li class="sidebar-sub-header"><a href="/documents/frontEnd/js-standard.html#iife（立即执行的函数表达式）" class="sidebar-link">IIFE（立即执行的函数表达式）</a></li><li class="sidebar-sub-header"><a href="/documents/frontEnd/js-standard.html#总是使用带类型判断的比较判断" class="sidebar-link">总是使用带类型判断的比较判断</a></li><li class="sidebar-sub-header"><a href="/documents/frontEnd/js-standard.html#明智地使用真假判断" class="sidebar-link">明智地使用真假判断</a></li><li class="sidebar-sub-header"><a href="/documents/frontEnd/js-standard.html#变量赋值时的逻辑操作" class="sidebar-link">变量赋值时的逻辑操作</a></li><li class="sidebar-sub-header"><a href="/documents/frontEnd/js-standard.html#阻止兼容模式" class="sidebar-link">阻止兼容模式###</a></li><li class="sidebar-sub-header"><a href="/documents/frontEnd/js-standard.html#优化-javascript-的特征" class="sidebar-link">优化 JavaScript 的特征</a></li></ul></li><li><a href="/documents/frontEnd/git-standard.html" class="sidebar-link">GIT开发规范</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="javascript规范"><a href="#javascript规范" aria-hidden="true" class="header-anchor">#</a> JavaScript规范</h1> <h2 id="变量声明"><a href="#变量声明" aria-hidden="true" class="header-anchor">#</a> 变量声明</h2> <p>总是使用 <code>var</code> 来声明变量。如不指定 var，变量将被隐式地声明为全局变量，这将对变量难以控制。如果没有声明，变量处于什么定义域就变得不清（可以是在 Document 或 Window 中，也可以很容易地进入本地定义域）。所以，请总是使用 var 来声明变量。</p> <p>ES6中有了模块作用域，也就是<code>let</code>(声明变量)和<code>const</code>(声明常量) 。
如果采用前端工程化开发，使用到了ES6，推荐使用<code>let</code>和<code>const</code>。</p> <p>采用严格模式带来的好处是，当你手误输入错误的变量名时，它可以通过报错信息来帮助你定位错误出处。</p> <p><strong>不推荐</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
y <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>推荐</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
    y <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="全局命名空间污染与-iife"><a href="#全局命名空间污染与-iife" aria-hidden="true" class="header-anchor">#</a> 全局命名空间污染与 IIFE</h2> <p>总是将代码包裹成一个 IIFE(Immediately-Invoked Function Expression)，用以创建独立隔绝的定义域。这一举措可防止全局命名空间被污染。</p> <p>IIFE 还可确保你的代码不会轻易被其它全局命名空间里的代码所修改（i.e. 第三方库，window 引用，被覆盖的未定义的关键字等等）。</p> <p><strong>不推荐</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
    y <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> window<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>推荐</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">log<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token keyword">undefined</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
 
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
      y <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
 
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>x <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token punctuation">(</span>w<span class="token punctuation">.</span>y <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token punctuation">}</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> window<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="iife（立即执行的函数表达式）"><a href="#iife（立即执行的函数表达式）" aria-hidden="true" class="header-anchor">#</a> IIFE（立即执行的函数表达式）</h2> <p>无论何时，想要创建一个新的封闭的定义域，那就用 IIFE。它不仅避免了干扰，也使得内存在执行完后立即释放。</p> <p>所有脚本文件建议都从 IIFE 开始。</p> <p>立即执行的函数表达式的执行括号应该写在外包括号内。虽然写在内还是写在外都是有效的，但写在内使得整个表达式看起来更像一个整体，因此推荐这么做。</p> <p><strong>不推荐</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>推荐</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>so，用下列写法来格式化你的 IIFE 代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
 
  <span class="token comment">// Code goes here</span>
 
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果你想引用全局变量或者是外层 IIFE 的变量，可以通过下列方式传参：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$<span class="token punctuation">,</span> w<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
 
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    w<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">,</span> window<span class="token punctuation">,</span> document<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="总是使用带类型判断的比较判断"><a href="#总是使用带类型判断的比较判断" aria-hidden="true" class="header-anchor">#</a> 总是使用带类型判断的比较判断</h2> <p>总是使用 <code>===</code> 精确的比较操作符，避免在判断的过程中，由 JavaScript 的强制类型转换所造成的困扰。</p> <p>如果你使用 <code>===</code> 操作符，那比较的双方必须是同一类型为前提的条件下才会有效。</p> <p>如果你想了解更多关于强制类型转换的信息，你可以读一读 <a href="http://dmitrysoshnikov.com/notes/note-2-ecmascript-equality-operators/" target="_blank" rel="noopener noreferrer">Dmitry Soshnikov 的这篇文章<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>在只使用 <code>==</code> 的情况下，JavaScript 所带来的强制类型转换使得判断结果跟踪变得复杂，下面的例子可以看出这样的结果有多怪了：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
 
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'0'</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">''</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
 
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">valueOf</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'X'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
  <span class="token function">log</span><span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token string">'X'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token punctuation">}</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="明智地使用真假判断"><a href="#明智地使用真假判断" aria-hidden="true" class="header-anchor">#</a> 明智地使用真假判断</h2> <p>当我们在一个 if 条件语句中使用变量或表达式时，会做真假判断。<code>if(a == true)</code> 是不同于 <code>if(a)</code>的。后者的判断比较特殊，我们称其为真假判断。这种判断会通过特殊的操作将其转换为 true 或 false，下列表达式统统返回 false：<code>false</code>, <code>0</code>, <code>undefined</code>, <code>null</code>, <code>NaN</code>, <code>''</code>（空字符串）.</p> <p>这种真假判断在我们只求结果而不关心过程的情况下，非常的有帮助。</p> <p>以下示例展示了真假判断是如何工作的：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
 
  <span class="token keyword">function</span> <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token parameter">expr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>expr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'truthy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'falsy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
 
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// truthy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// truthy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// truthy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// truthy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// truthy</span>
 
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// falsy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// falsy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// falsy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// falsy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// falsy</span>
  <span class="token function">logTruthyFalsy</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// falsy</span>
 
<span class="token punctuation">}</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="变量赋值时的逻辑操作"><a href="#变量赋值时的逻辑操作" aria-hidden="true" class="header-anchor">#</a> 变量赋值时的逻辑操作</h2> <p>逻辑操作符 <code>||</code> 和 <code>&amp;&amp;</code> 也可被用来返回布尔值。如果操作对象为非布尔对象，那每个表达式将会被自左向右地做真假判断。基于此操作，最终总有一个表达式被返回回来。这在变量赋值时，是可以用来简化你的代码的。<a href="http://www.iyouhun.com/post-28.html" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong>不推荐</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>推荐</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>x <span class="token operator">=</span> x <span class="token operator">||</span> y <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p>这一小技巧经常用来给方法设定默认的参数。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
 
  <span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a <span class="token operator">=</span> a <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> b <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
 
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Result '</span> <span class="token operator">+</span> a <span class="token operator">*</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result 1</span>
  <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result 10</span>
  <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result 3</span>
  <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result 45</span>
 
<span class="token punctuation">}</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="阻止兼容模式"><a href="#阻止兼容模式" aria-hidden="true" class="header-anchor">#</a> 阻止兼容模式###</h2> <p>有时候 IE 会在用户不知道的情况下自作主张切换到兼容模式。要阻止你的站点缺省进入兼容模式，可以在站点的<code>&lt;head&gt;</code> 部分加入下列代码：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="优化-javascript-的特征"><a href="#优化-javascript-的特征" aria-hidden="true" class="header-anchor">#</a> 优化 JavaScript 的特征</h2> <ul><li>编写可维护的代码</li> <li>单变量模式</li> <li>Hoisting：把所有变量声明统一放到函数的起始位置 （在后部声明的变量也会被JS视为在头部定义，由此会产生问题）</li> <li>不要扩充内置原型（虽然给Object(), Function()之类的内置原型增加属性和方法很巧妙，但是会破坏可维护性）</li> <li>不要用隐含的类型转换</li> <li>不要用 eval()</li> <li>用 parseInt() 进行数字转换</li> <li>（规范）左大括号的位置</li> <li>构造器首字母大写</li> <li>写注释</li> <li>不要用 void</li> <li>不要用 with 语句</li> <li>不要用 continue 语句</li> <li>尽量不要用位运算</li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/documents/frontEnd/css-standard.html" class="prev">
          CSS规范
        </a></span> <span class="next"><a href="/documents/frontEnd/git-standard.html">
          GIT开发规范
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/documents/assets/js/app.cbb49199.js" defer></script><script src="/documents/assets/js/10.011a0e75.js" defer></script>
  </body>
</html>
