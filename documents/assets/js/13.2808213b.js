(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{174:function(e,t,s){"use strict";s.r(t);var n=s(0),r=Object(n.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),s("ul",[s("li",[e._v("参考文档："),s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-16-04",target:"_blank",rel:"noopener noreferrer"}},[e._v("How To Install Nginx on Ubuntu 16.04"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("安装：")]),e._v(" "),e._m(4),s("p",[e._v("检查是否安装成功：")]),e._v(" "),e._m(5),e._m(6),s("p",[e._v("查看局域网 ip 地址：")]),e._v(" "),e._m(7),s("p",[e._v("查看公网 ip 地址：")]),e._v(" "),e._m(8),s("p",[e._v("打开浏览器测试：")]),e._v(" "),e._m(9),s("p",[e._v("看到如下输出说明安装成功：")]),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),s("p",[e._v("停止：")]),e._v(" "),e._m(12),s("p",[e._v("开启：")]),e._v(" "),e._m(13),s("p",[e._v("重启：")]),e._v(" "),e._m(14),s("p",[e._v("如果只是简单的修改了配置文件，Nginx 可以在不断开连接的情况下使之生效：")]),e._v(" "),e._m(15),s("p",[e._v("默认情况下，nginx 已经被配置为了开机自启，如果不需要可以禁止：")]),e._v(" "),e._m(16),s("p",[e._v("重新启用开机自启：")]),e._v(" "),e._m(17),e._m(18),e._v(" "),e._m(19),e._v(" "),s("p",[e._v("Vi 是一个命令行下的编辑器，编辑文本文件的。")]),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),s("p",[e._v("真实的 Web 目录，类似于 Apache 中默认的 www，也可以在 nginx 配置文件中进行修改。")]),e._v(" "),s("p",[e._v("默认结构如下：")]),e._v(" "),e._m(23),e._m(24),e._v(" "),e._m(25),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),s("ul",[s("li",[e._v("https://github.com/moonbingbing/openresty-best-practices/blob/master/ngx/reverse_proxy.md")]),e._v(" "),s("li",[s("a",{attrs:{href:"http://www.jianshu.com/p/bed000e1830b",target:"_blank",rel:"noopener noreferrer"}},[e._v("简书 - WEB请求处理二：Nginx请求反向代理"),s("OutboundLink")],1)])]),e._v(" "),e._m(29),e._v(" "),e._m(30),e._v(" "),e._m(31),e._v(" "),e._m(32),e._m(33),e._v(" "),e._m(34),s("p",[e._v("重新载入 nginx 使配置文件生效")]),e._v(" "),e._m(35),s("p",[e._v("访问测试。")]),e._v(" "),e._m(36)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"nginx入门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx入门","aria-hidden":"true"}},[this._v("#")]),this._v(" nginx入门")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("官网：http://nginx.org/")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"开始"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始","aria-hidden":"true"}},[this._v("#")]),this._v(" 开始")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" update\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[this._v("systemctl status nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("● nginx.service - A high performance web server and a reverse proxy server\n   Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)\n   Active: active (running) since Sun 2017-11-19 22:57:17 CST; 5min ago\n Main PID: 1552 (nginx)\n   CGroup: /system.slice/nginx.service\n           ├─1552 nginx: master process /usr/sbin/nginx -g daemon on; master_process on\n           └─1553 nginx: worker process\n\nNov 19 22:57:17 iZj6c8pmxwulw5gmj8eeggZ systemd[1]: Starting A high performance web server and a reverse\nNov 19 22:57:17 iZj6c8pmxwulw5gmj8eeggZ systemd[1]: nginx.service: Failed to read PID from file /run/ngin\nNov 19 22:57:17 iZj6c8pmxwulw5gmj8eeggZ systemd[1]: Started A high performance web server and a reverse p\nlines 1-11/11 (END)\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("ip")]),this._v(" addr show eth0\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 或者")]),this._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("ifconfig")]),this._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" -4 icanhazip.com\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("http://server_domain_or_IP\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://assets.digitalocean.com/articles/nginx_1604/default_page.png",alt:"welcome-to-nginx"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"manage-the-nginx-process"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#manage-the-nginx-process","aria-hidden":"true"}},[this._v("#")]),this._v(" Manage the Nginx Process")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl stop nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl start nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl restart nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl reload nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl disable nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("enable")]),this._v(" nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"vi-编辑器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vi-编辑器","aria-hidden":"true"}},[this._v("#")]),this._v(" VI 编辑器")])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[t("p",[this._v("Visual Interface")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"熟悉重要的文件和目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#熟悉重要的文件和目录","aria-hidden":"true"}},[this._v("#")]),this._v(" 熟悉重要的文件和目录")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"content"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#content","aria-hidden":"true"}},[this._v("#")]),this._v(" Content")])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[t("p",[t("code",[this._v("/var/www/html")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("root@iZj6c8pmxwulw5gmj8eeggZ:~# tree /var/www/\n/var/www/\n└── html\n    └── index.nginx-debian.html\n\n1 directory, 1 file\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"server-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Server Configuration")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("code",[e._v("/etc/nginx")]),e._v(": The nginx configuration directory. All of the Nginx configuration files reside here.")]),e._v(" "),s("li",[s("code",[e._v("/etc/nginx/nginx.conf")]),e._v(": The main Nginx configuration file. This can be modified to make changes to the Nginx global configuration.")]),e._v(" "),s("li",[s("code",[e._v("/etc/nginx/sites-available/")]),e._v(': The directory where per-site "server blocks" can be stored. Nginx will not use the configuration files found in this directory unless they are linked to the '),s("code",[e._v("sites-enabled")]),e._v("directory (see below). Typically, all server block configuration is done in this directory, and then enabled by linking to the other directory.")]),e._v(" "),s("li",[s("code",[e._v("/etc/nginx/sites-enabled/")]),e._v(': The directory where enabled per-site "server blocks" are stored. Typically, these are created by linking to configuration files found in the '),s("code",[e._v("sites-available")]),e._v(" directory.")]),e._v(" "),s("li",[s("code",[e._v("/etc/nginx/snippets")]),e._v(": This directory contains configuration fragments that can be included elsewhere in the Nginx configuration. Potentially repeatable configuration segments are good candidates for refactoring into snippets.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"server-logs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server-logs","aria-hidden":"true"}},[this._v("#")]),this._v(" Server Logs")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("code",[this._v("/var/log/nginx/access.log")]),this._v(": Every request to your web server is recorded in this log file unless Nginx is configured to do otherwise.")]),this._v(" "),t("li",[t("code",[this._v("/var/log/nginx/error.log")]),this._v(": Any Nginx errors will be recorded in this log.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"反向代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#反向代理","aria-hidden":"true"}},[this._v("#")]),this._v(" 反向代理")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("https://serverfault.com/questions/379675/nginx-reverse-proxy-url-rewrite")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("在 "),t("code",[this._v("/etc/nginx/sites-available")]),this._v(" 创建一个 "),t("code",[this._v("ghost.conf")]),this._v(" 文件并写入以下内容")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("server {\n    listen 80;\n    # 将 server_name 的值改为你的域名\n    server_name example.com;\n\n    location / {\n        proxy_set_header   X-Real-IP $remote_addr;\n        proxy_set_header   Host      $http_host;\n        proxy_pass         http://127.0.0.1:2368;\n    }\n}\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("把你的配置文件软链接到 "),t("code",[this._v("sites-enabled")]),this._v(" 文件夹下")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("ln")]),this._v(" -s /etc/nginx/sites-available/ghost.conf /etc/nginx/sites-enabled/ghost.conf\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl reload nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("server {\n        listen    80;\n\n        ## 1. 用户访问 http://ip:port，则反向代理到 https://github.com\n        location / {\n            proxy_pass  https://github.com;\n            proxy_redirect     off;\n            proxy_set_header   Host             $host;\n            proxy_set_header   X-Real-IP        $remote_addr;\n            proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n\n        ## 2.用户访问 http://ip:port/README.md，则反向代理到\n        ##   https://github.com/.../README.md\n        location /README.md {\n            proxy_set_header  X-Real-IP  $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_pass https://github.com/moonbingbing/openresty-best-practices/blob/master/README.md;\n        }\n    }\n")])])])}],!1,null,null,null);t.default=r.exports}}]);